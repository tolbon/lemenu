{% macro sectionJsonLd(menuSection) %}
{# @var menuSection \App\DTO\MenuSection[]|null #}
{% for section in menuSection %}
{# @var section \App\DTO\MenuSection #}
{
    "@type": "MenuSection",
    "name": "{{ section.name }}"
    {% if section.hasMenuSection|length > 0 %}
        ,"hasMenuSection":
            {% import _self as self %}
            [{{ self.sectionJsonLd(section.hasMenuSection) }}]
            {% if section.hasMenuItem|length > 0 %}
                ,"hasMenuItem" : [
                {% for menuItem in section.hasMenuItem %}
                    {
                        "@type": "MenuItem",
                        "name": "{{ menuItem.name }}",
                        "description": "{{ menuItem.description }}"
                    }
                    {% if loop.last == false %}
                        ,
                    {% endif %}
                {% endfor %}
            {% endif %}
            ]
    {% endif %}
    }
    {% if loop.last == false %}
        ,
    {% endif %}
{% endfor %}
{% endmacro %}